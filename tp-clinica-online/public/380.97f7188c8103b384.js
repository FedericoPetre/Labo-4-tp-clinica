"use strict";(self.webpackChunktp_clinica_online=self.webpackChunktp_clinica_online||[]).push([[380],{9380:(ei,E,d)=>{d.r(E),d.d(E,{TurnosModuleModule:()=>ti});var h=d(6814),v=d(7045),i=d(5879),g=d(6683),Z=d(5367),T=d(6013),C=d(9606);function y(a,c){if(1&a){const t=i.EpF();i.TgZ(0,"button",12),i.NdJ("click",function(){const o=i.CHM(t).$implicit,n=i.oxw();return i.KtG(n.cargarEspecialidadesEspecialista(o.nombre))}),i.TgZ(1,"div",13)(2,"span",14),i._uU(3),i.qZA(),i._UZ(4,"img",15),i.qZA()()}if(2&a){const t=c.$implicit;i.xp6(3),i.Oqu(t.nombre),i.xp6(1),i.Q6J("src",t.foto,i.LSH)}}function M(a,c){if(1&a){const t=i.EpF();i.TgZ(0,"button",12),i.NdJ("click",function(){const o=i.CHM(t).$implicit,n=i.oxw();return i.KtG(n.mostrarTurnosDisponibles(o))}),i._uU(1),i.qZA()}if(2&a){const t=c.$implicit;i.xp6(1),i.Oqu(t)}}function w(a,c){if(1&a){const t=i.EpF();i.TgZ(0,"button",16),i.NdJ("click",function(){const s=i.CHM(t),o=s.$implicit,n=s.index,r=i.oxw();return i.KtG(r.solicitarTurno(o,n))}),i._uU(1),i.qZA()}if(2&a){const t=c.$implicit;i.xp6(1),i.Oqu(t)}}let F=(()=>{class a{constructor(t,e,s){this.firebase=t,this.turnos=e,this.notificaciones=s,this.horariosDisponiblesEspecialistas=[],this.especialistas=[],this.especialidades=[],this.especialistasConFoto=[],this.horariosDisponiblesDeEseEspecialistaConEsaEspecialidad=[],this.especialistaElegido="",this.especialidadElegida="",this.pacientes=[]}ngOnInit(){this.obserEspecialistas$=this.firebase.traerEspecialistasRegistrados().subscribe(t=>{this.cargarEspecialistas(t)}),this.obser$=this.firebase.traerTodosLosHorariosEspecialistas().subscribe(t=>{this.cargarTurnos(t)}),"admin"==this.firebase.tipoUsuario&&(this.obserPacientes$=this.firebase.traerPacientesRegistrados().subscribe(t=>{this.cargarPacientes(t)}))}ngOnDestroy(){this.obser$&&this.obser$.unsubscribe(),this.obserEspecialistas$&&this.obserEspecialistas$.unsubscribe(),this.obserPacientes$&&this.obserPacientes$.unsubscribe()}cargarPacientes(t){let e=[];t.length>0&&t.forEach(s=>{e.push({nombre:s.nombre+" "+s.apellido,mailPaciente:s.email})}),this.pacientes=e}cargarEspecialidadesEspecialista(t){let e=[];this.especialistaElegido=t,this.horariosDisponiblesEspecialistas.forEach(s=>{s.especialista==t&&!e.includes(s.especialidad)&&e.push(s.especialidad)}),this.especialidades=e}cargarEspecialistas(t){let e=[];t.length>0&&t.forEach(s=>{let o={nombre:s.nombre+" "+s.apellido,foto:s.imagen[0]};e.includes(o)||e.push(o)}),this.especialistasConFoto=e}cargarTurnos(t){let e=[],o=[],n=[];t.length>0&&t.forEach(r=>{let u={nombre:r.especialista,foto:this.traerFotoDelEspecialista(r.especialista,this.especialistasConFoto)};if(o.some(l=>l.nombre===u.nombre)||o.push(u),n.includes(r.especialidad)||n.push(r.especialidad),r.dias.length>0){let l={especialista:r.especialista,especialidad:r.especialidad,duracionTurno:r.duracionTurno,horarios:this.turnos.devolverCalendarizacionTodosLosDias(r.dias,r.duracionTurno)};e.includes(l)||e.push(l)}}),this.especialistas=o,this.horariosDisponiblesEspecialistas=e}traerFotoDelEspecialista(t,e){let s="";return e.forEach(o=>{o.nombre==t&&(s=o.foto)}),s}mostrarTurnosDisponibles(t){this.obserTurnos$&&this.obserTurnos$.unsubscribe();let e=[];this.especialidadElegida=t;let s=[];this.obserTurnos$=this.firebase.traerTurnosOcupados(this.especialistaElegido,this.especialidadElegida).subscribe(o=>{this.cargarFechasOcupadas(o).forEach(n=>{s.push(n)}),this.horariosDisponiblesEspecialistas.forEach(n=>{n.especialista==this.especialistaElegido&&n.especialidad==t&&n.horarios.forEach(r=>{!e.includes(r)&&!s.includes(r)&&e.push(r)})})}),this.horariosDisponiblesDeEseEspecialistaConEsaEspecialidad=e}solicitarTurno(t,e){this.notificaciones.mostrarSpinner(),-1!=e&&this.horariosDisponiblesDeEseEspecialistaConEsaEspecialidad.splice(e,1),setTimeout(()=>{this.notificaciones.ocultarSpinner()},1500),this.firebase.flagEsAdmin||this.firebase.guardarTurnoParaElPaciente(this.firebase.nombreUsuario,this.firebase.email,this.especialistaElegido,this.especialidadElegida,t)}cargarFechasOcupadas(t){let e=[];return t.length>0&&t.forEach(s=>{e.push(s.diaTurno)}),e}static#i=this.\u0275fac=function(e){return new(e||a)(i.Y36(g.O),i.Y36(Z.D),i.Y36(T.U))};static#t=this.\u0275cmp=i.Xpm({type:a,selectors:[["app-solicitar-turno"]],decls:19,vars:3,consts:[[1,"contenedorMayor"],[1,"contenedorMedio"],[1,"arriba"],[1,"izquierda"],["class","boton",3,"click",4,"ngFor","ngForOf"],[1,"derecha"],[1,"abajo"],[1,"turnos"],[1,"tituloTurnos"],[1,"tituloTurnos2"],[1,"botonesTurnos"],["appCambiarEstiloBoton","","class","boton2",3,"click",4,"ngFor","ngForOf"],[1,"boton",3,"click"],[1,"contenidoBoton"],[1,"nombreEspecialista"],["alt","Imagen del especialista",3,"src"],["appCambiarEstiloBoton","",1,"boton2",3,"click"]],template:function(e,s){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),i._uU(5,"Especialistas"),i.qZA(),i.YNc(6,y,5,2,"button",4),i.qZA(),i.TgZ(7,"div",5)(8,"h1"),i._uU(9,"Especialidad"),i.qZA(),i.YNc(10,M,2,1,"button",4),i.qZA()(),i.TgZ(11,"div",6)(12,"div",7)(13,"div",8)(14,"h2",9),i._uU(15,"Turnos Disponibles"),i.qZA()(),i._UZ(16,"br"),i.TgZ(17,"div",10),i.YNc(18,w,2,1,"button",11),i.qZA()()()()()),2&e&&(i.xp6(6),i.Q6J("ngForOf",s.especialistas),i.xp6(4),i.Q6J("ngForOf",s.especialidades),i.xp6(8),i.Q6J("ngForOf",s.horariosDisponiblesDeEseEspecialistaConEsaEspecialidad))},dependencies:[h.sg,C.s],styles:['@import"https://fonts.googleapis.com/css2?family=Nunito:wght@500&display=swap";@import"https://fonts.googleapis.com/css2?family=DynaPuff&family=Sora&display=swap";.contenedorMayor[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:93vh;width:100%;background-size:100% 100%;background-image:url(pasillo-hospital.f860beb99e2338a8.jpg);background-repeat:no-repeat}.columna[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:left}.row[_ngcontent-%COMP%]{width:80vw}.contenedorMedio[_ngcontent-%COMP%]{width:85vw;height:80vh;border-radius:25px;display:flex;flex-direction:column}.arriba[_ngcontent-%COMP%], .abajo[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.izquierda[_ngcontent-%COMP%], .derecha[_ngcontent-%COMP%]{width:50%;padding-top:5vh;display:flex;flex-direction:column;justify-content:flex-start;text-align:center;height:30vh;overflow-y:auto}.turnos[_ngcontent-%COMP%]{width:100%;height:50vh}.tituloTurnos[_ngcontent-%COMP%]{width:100%;height:2vh;text-align:center}.botonesTurnos[_ngcontent-%COMP%]{max-height:80%;width:auto;display:flex;flex-direction:column;justify-content:flex-start;text-align:center;overflow-y:auto;object-fit:contain}.row1[_ngcontent-%COMP%]{width:100%;height:4%;margin-top:10px;display:flex;justify-content:space-between}.izquierda[_ngcontent-%COMP%], .derecha[_ngcontent-%COMP%], .abajo[_ngcontent-%COMP%]{border-radius:30px;background-size:100% 100%;margin:10px;background-image:url(fondo-solicitar-turno.720eba8beca0c2af.png);background-repeat:no-repeat}img[_ngcontent-%COMP%]{height:16vh;width:auto;object-fit:cover;margin-left:20px;margin-right:20px}.img[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;width:60%;border-radius:20px;background-color:#00008b}.controlFormulario[_ngcontent-%COMP%]{width:100%}.boton[_ngcontent-%COMP%]{width:80%;height:auto;background-color:#00008b;color:#fff;border-radius:5px;box-shadow:2px 2px 2px 2px #fff;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:0 auto}.contenidoBoton[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.nombreEspecialista[_ngcontent-%COMP%]{margin-bottom:5px}.boton[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;max-height:100px;object-fit:contain}.boton[_ngcontent-%COMP%]:hover{background-color:#001f3f}.boton2[_ngcontent-%COMP%]{width:auto;height:auto;background-color:#00008b;color:#fff;border-radius:5px;box-shadow:2px 2px 2px 2px #fff;display:block;margin:0 auto 10px}.boton2[_ngcontent-%COMP%]:hover, .boton[_ngcontent-%COMP%]:hover{background-color:#001f3f}h2[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}label[_ngcontent-%COMP%]{font-family:Nunito,sans-serif;font-size:large}input[_ngcontent-%COMP%]{font-family:Nunito,sans-serif;font-size:medium}h2[_ngcontent-%COMP%]{font-family:Sora,sans-serif;margin-top:2vh}.tituloTurnos2[_ngcontent-%COMP%]{font-family:Nunito,sans-serif;color:#000}h1[_ngcontent-%COMP%]{font-family:Nunito,sans-serif}']})}return a})();var x=d(95);function A(a,c){if(1&a){const t=i.EpF();i.TgZ(0,"button",8),i.NdJ("click",function(){const o=i.CHM(t).$implicit,n=i.oxw(2);return i.KtG(n.filtrar(o))}),i._uU(1),i.qZA()}if(2&a){const t=c.$implicit;i.xp6(1),i.Oqu(t)}}function U(a,c){if(1&a&&(i.TgZ(0,"div",9)(1,"div")(2,"h1"),i._uU(3,"Filtrar por Especialista"),i.qZA()(),i.TgZ(4,"div",10),i.YNc(5,A,2,1,"button",6),i.qZA()()),2&a){const t=i.oxw();i.xp6(5),i.Q6J("ngForOf",t.especialistas)}}function k(a,c){if(1&a){const t=i.EpF();i.TgZ(0,"button",8),i.NdJ("click",function(){const o=i.CHM(t).$implicit,n=i.oxw(2);return i.KtG(n.filtrar(o))}),i._uU(1),i.qZA()}if(2&a){const t=c.$implicit;i.xp6(1),i.Oqu(t)}}function q(a,c){if(1&a&&(i.TgZ(0,"div",9)(1,"div")(2,"h1"),i._uU(3,"Filtrar por Paciente"),i.qZA()(),i.TgZ(4,"div",10),i.YNc(5,k,2,1,"button",6),i.qZA()()),2&a){const t=i.oxw();i.xp6(5),i.Q6J("ngForOf",t.pacientes)}}function $(a,c){if(1&a){const t=i.EpF();i.TgZ(0,"button",8),i.NdJ("click",function(){const o=i.CHM(t).$implicit,n=i.oxw(2);return i.KtG(n.filtrar(o))}),i._uU(1),i.qZA()}if(2&a){const t=c.$implicit;i.xp6(1),i.Oqu(t)}}function N(a,c){if(1&a&&(i.TgZ(0,"div",9)(1,"div")(2,"h1"),i._uU(3,"Filtrar por Especialista"),i.qZA()(),i.TgZ(4,"div",10),i.YNc(5,$,2,1,"button",6),i.qZA()()),2&a){const t=i.oxw();i.xp6(5),i.Q6J("ngForOf",t.especialistas)}}function D(a,c){if(1&a){const t=i.EpF();i.TgZ(0,"button",8),i.NdJ("click",function(){const o=i.CHM(t).$implicit,n=i.oxw();return i.KtG(n.filtrar(o))}),i._uU(1),i.qZA()}if(2&a){const t=c.$implicit;i.xp6(1),i.Oqu(t)}}let J=(()=>{class a{ngOnInit(){this.tipoUsuario=this.firebase.tipoUsuario,"paciente"==this.tipoUsuario&&(this.obser$=this.firebase.traerTurnosDelPaciente(this.firebase.email).subscribe(t=>{this.cargarEspecialistasYEspecialidades(t)})),"especialista"==this.tipoUsuario&&(this.obser$=this.firebase.traerTurnosDelEspecialista(this.firebase.nombreUsuario).subscribe(t=>{this.cargarPacientesYEspecialidades(t)})),"admin"==this.tipoUsuario&&(this.obser$=this.firebase.traerTodosLosTurnosRegistrados().subscribe(t=>{this.cargarEspecialistasYEspecialidades(t)}))}ngOnDestroy(){this.obser$&&this.obser$.unsubscribe(),this.obserHistoriasClinicas$&&this.obserHistoriasClinicas$.unsubscribe()}constructor(t,e){this.firebase=t,this.turnos1=e,this.especialidadOEspecialista="",this.tipoUsuario="",this.misTurnos=[],this.especialistas=[],this.especialidades=[],this.pacientes=[],this.historiasClinicas=[],this.turnosFiltrados=[],this.eventItemMisTurnos=new i.vpe,this.flagHayCambios=!1}cargarTodosLosTurnos(t){let e=[],s=[],o=[];t.length>0&&t.forEach(n=>{let r={diaDelTurno:n.diaTurno,especialidad:n.especialidad,estado:n.estadoTurno,especialista:n.nombreEspecialista,fueRealizado:n.fueRealizado,resenia:n.resenia,calificacionAtencion:n.calificacionAtencion,comentarioCancelacion:n.comentarioCancelacion,paciente:n.paciente};e.push(r),s.includes(r.especialista)||s.push(r.especialista),o.includes(r.especialidad)||o.push(r.especialidad)}),this.misTurnos=e,this.especialidades=o,this.especialistas=s,this.buscarTurnosConEseFiltro()}cargarEspecialistasYEspecialidades(t){this.obserHistoriasClinicas$=this.firebase.traerTodasLasHistoriasClinicas().subscribe(e=>{this.cargarHistoriasClinicas(e);let s=[],o=[],n=[];t.length>0&&t.forEach(r=>{let u=this.encontrarHistoriaPorMailPaciente(r.mailPaciente),l="",m="";for(const p in u)if(u.hasOwnProperty(p))if("detalle"==p){for(const _ in u[p])m+=`${_}:${u[p][_]}`;l+=`${p}${m}, `}else l+=`${p}:${u[p]}, `;l=l.toLowerCase();let f={diaDelTurno:r.diaTurno,especialidad:r.especialidad,estado:r.estadoTurno,especialista:r.nombreEspecialista,fueRealizado:r.fueRealizado,resenia:r.resenia,calificacionAtencion:r.calificacionAtencion,comentarioCancelacion:r.comentarioCancelacion,paciente:r.paciente,historiaClinica:l};s.push(f),o.includes(f.especialista)||o.push(f.especialista),n.includes(f.especialidad)||n.push(f.especialidad)}),this.misTurnos=s,this.especialidades=n,this.especialistas=o,this.buscarTurnosConEseFiltro()})}cargarPacientesYEspecialidades(t){this.obserHistoriasClinicas$=this.firebase.traerTodasLasHistoriasClinicas().subscribe(e=>{this.cargarHistoriasClinicas(e);let s=[],o=[],n=[];t.length>0&&t.forEach(r=>{let u=this.encontrarHistoriaPorMailPaciente(r.mailPaciente),l="",m="";for(const p in u)if(u.hasOwnProperty(p))if("detalle"==p){for(const _ in u[p])m+=`${_}:${u[p][_]}`;l+=`${p}${m}, `}else l+=`${p}:${u[p]}, `;l=l.toLowerCase();let f={diaDelTurno:r.diaTurno,especialidad:r.especialidad,estado:r.estadoTurno,especialista:r.nombreEspecialista,fueRealizado:r.fueRealizado,resenia:r.resenia,calificacionAtencion:r.calificacionAtencion,comentarioCancelacion:r.comentarioCancelacion,paciente:r.paciente,mailPaciente:r.mailPaciente,historiaClinica:l};s.push(f),o.includes(f.paciente)||o.push(f.paciente),n.includes(f.especialidad)||n.push(f.especialidad)}),this.misTurnos=s,this.especialidades=n,this.pacientes=o,this.buscarTurnosConEseFiltro()})}cargarHistoriasClinicas(t){let e=[];t.length>0&&t.forEach(s=>{e.push({altura:s.altura+" cm",paciente:s.paciente,peso:s.peso+" kg",presion:s.presion+" mmHg",temperatura:s.temperatura+" \xb0C",detalle:s.detalles,mailPaciente:s.mailPaciente})}),this.historiasClinicas=e}buscarTurnosConEseFiltro(){let t=[];"paciente"==this.tipoUsuario?(this.misTurnos.forEach(e=>{let s=e.historiaClinica.includes(this.especialidadOEspecialista.toLowerCase());(e.especialidad.toLowerCase().includes(this.especialidadOEspecialista.toLowerCase())||e.especialista.toLowerCase().includes(this.especialidadOEspecialista.toLowerCase())||e.historiaClinica.includes(this.especialidadOEspecialista.toLowerCase())||s)&&t.push(e)}),this.turnosFiltrados=t.sort(this.turnos1.compararDiaDelTurno),console.log(this.turnosFiltrados),this.eventItemMisTurnos.emit(this.turnosFiltrados)):"especialista"==this.tipoUsuario?(this.misTurnos.forEach(e=>{let s=e.historiaClinica.includes(this.especialidadOEspecialista.toLowerCase());(e.especialidad.toLowerCase().includes(this.especialidadOEspecialista.toLowerCase())||e.paciente.toLowerCase().includes(this.especialidadOEspecialista.toLowerCase())||s)&&t.push(e)}),console.log(t),this.turnosFiltrados=t.sort(this.turnos1.compararDiaDelTurno),console.log(this.turnosFiltrados),this.eventItemMisTurnos.emit(this.turnosFiltrados)):(this.misTurnos.forEach(e=>{let s=e.historiaClinica.includes(this.especialidadOEspecialista.toLowerCase());(e.especialidad.toLowerCase().includes(this.especialidadOEspecialista.toLowerCase())||e.especialista.toLowerCase().includes(this.especialidadOEspecialista.toLowerCase())||e.historiaClinica.includes(this.especialidadOEspecialista.toLowerCase())||s)&&t.push(e)}),this.turnosFiltrados=t.sort(this.turnos1.compararDiaDelTurno),console.log(this.turnosFiltrados),this.eventItemMisTurnos.emit(this.turnosFiltrados))}filtrar(t){this.especialidadOEspecialista=t,this.buscarTurnosConEseFiltro()}limpiarFiltro(){this.especialidadOEspecialista="",this.turnosFiltrados=this.misTurnos,this.eventItemMisTurnos.emit(this.turnosFiltrados)}encontrarHistoriaPorMailPaciente(t){let e="";for(let s=0;s<this.historiasClinicas.length;s++)if(this.historiasClinicas[s].mailPaciente==t){e=this.historiasClinicas[s];break}return e}static#i=this.\u0275fac=function(e){return new(e||a)(i.Y36(g.O),i.Y36(Z.D))};static#t=this.\u0275cmp=i.Xpm({type:a,selectors:[["app-filtro-unico"]],inputs:{flagHayCambios:"flagHayCambios"},outputs:{eventItemMisTurnos:"eventItemMisTurnos"},decls:21,vars:5,consts:[[1,"contenedor"],[1,"filtro"],["type","text","placeholder","Ingrese especialidad o especialista",3,"ngModel","ngModelChange"],["class","filtroEspecialista",4,"ngIf"],[1,"filtroEspecialidad"],[1,"especialidades"],["appCambiarEstiloBoton","","class","boton",3,"click",4,"ngFor","ngForOf"],[1,"limpiarFiltros"],["appCambiarEstiloBoton","",1,"boton",3,"click"],[1,"filtroEspecialista"],[1,"especialistas"]],template:function(e,s){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h1"),i._uU(3,"Filtro \xdanico"),i.qZA(),i.TgZ(4,"input",2),i.NdJ("ngModelChange",function(n){return s.especialidadOEspecialista=n})("ngModelChange",function(){return s.buscarTurnosConEseFiltro()}),i.qZA()(),i.YNc(5,U,6,1,"div",3),i.YNc(6,q,6,1,"div",3),i.YNc(7,N,6,1,"div",3),i.TgZ(8,"div",4)(9,"div")(10,"h1"),i._uU(11,"Filtrar por especialidad"),i.qZA()(),i.TgZ(12,"div",5),i.YNc(13,D,2,1,"button",6),i.qZA()(),i.TgZ(14,"div",7)(15,"div")(16,"h1"),i._uU(17,"Limpiar Filtros"),i.qZA()(),i.TgZ(18,"div")(19,"button",8),i.NdJ("click",function(){return s.limpiarFiltro()}),i._uU(20,"Limpiar Filtros"),i.qZA()()()()),2&e&&(i.xp6(4),i.Q6J("ngModel",s.especialidadOEspecialista),i.xp6(1),i.Q6J("ngIf","paciente"==s.tipoUsuario),i.xp6(1),i.Q6J("ngIf","especialista"==s.tipoUsuario),i.xp6(1),i.Q6J("ngIf","admin"==s.tipoUsuario),i.xp6(6),i.Q6J("ngForOf",s.especialidades))},dependencies:[h.sg,h.O5,x.Fj,x.JJ,x.On,C.s],styles:['@import"https://fonts.googleapis.com/css2?family=Nunito:wght@500&display=swap";@import"https://fonts.googleapis.com/css2?family=DynaPuff&family=Sora&display=swap";.contenedor[_ngcontent-%COMP%]{width:100%;height:93vh;background-size:100% 100%;background-repeat:no-repeat;background-image:url(pasillo-hospital.f860beb99e2338a8.jpg);display:flex;flex-direction:column;justify-content:flex-start;text-align:center;align-items:center;padding-top:7vh}h1[_ngcontent-%COMP%]{margin-top:5%;font-family:Nunito,sans-serif}input[_ngcontent-%COMP%]{width:75%;height:auto;border-radius:5%;box-shadow:2px 2px 2px 2px #fff;display:block;margin:0 auto 10px;font-family:Nunito,sans-serif;font-size:large}.boton[_ngcontent-%COMP%]{width:auto;height:auto;background-color:#00008b;color:#fff;border-radius:5px;box-shadow:2px 2px 2px 2px #fff;display:block;margin:0 auto 10px}.boton[_ngcontent-%COMP%]:hover{background-color:#001f3f}.especialistas[_ngcontent-%COMP%]{max-height:17vh;overflow-y:auto}.especialistas[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.especialistas[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#00008b;border-radius:6px}.especialistas[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f1f1f1}.especialidades[_ngcontent-%COMP%]{max-height:17vh;overflow-y:auto}.especialidades[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.especialidades[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#00008b;border-radius:6px}.especialidades[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f1f1f1}.filtro[_ngcontent-%COMP%], .filtroEspecialista[_ngcontent-%COMP%], .filtroEspecialidad[_ngcontent-%COMP%], .limpiarFiltros[_ngcontent-%COMP%]{background-repeat:no-repeat;background-image:url(fondo-solicitar-turno.720eba8beca0c2af.png);background-size:100% 100%;border-radius:20px;margin-bottom:1vh;margin-top:1vh;padding-left:1vh;padding-right:1vh}']})}return a})();var b=d(5861),O=d(7516);function L(a,c){1&a&&(i.TgZ(0,"button",13),i._uU(1,"Completar Encuesta"),i.qZA())}function z(a,c){if(1&a){const t=i.EpF();i.TgZ(0,"button",14),i.NdJ("click",function(){i.CHM(t);const s=i.oxw().$implicit,o=i.oxw();return i.KtG(o.verResenia(s.resenia))}),i._uU(1,"Ver Rese\xf1a"),i.qZA()}}function I(a,c){if(1&a){const t=i.EpF();i.TgZ(0,"button",15),i.NdJ("click",function(){i.CHM(t);const s=i.oxw().$implicit,o=i.oxw();return i.KtG(o.calificarTurno(s))}),i._uU(1,"Calificar Atenci\xf3n"),i.qZA()}}function Y(a,c){if(1&a){const t=i.EpF();i.TgZ(0,"button",16),i.NdJ("click",function(){i.CHM(t);const s=i.oxw().$implicit,o=i.oxw();return i.KtG(o.cancelarTurno(s))}),i._uU(1,"Cancelar Turno"),i.qZA()}}function H(a,c){if(1&a){const t=i.EpF();i.TgZ(0,"button",14),i.NdJ("click",function(){i.CHM(t);const s=i.oxw().$implicit,o=i.oxw();return i.KtG(o.verResenia(s.comentarioCancelacion))}),i._uU(1,"Ver Comentario"),i.qZA()}}function j(a,c){if(1&a&&(i.TgZ(0,"tr")(1,"td",6),i._uU(2),i.ALo(3,"capitalizar"),i.qZA(),i.TgZ(4,"td",6),i._uU(5),i.ALo(6,"capitalizar"),i.qZA(),i.TgZ(7,"td",6),i._uU(8),i.ALo(9,"capitalizar"),i.qZA(),i.TgZ(10,"td",6),i._uU(11),i.ALo(12,"capitalizar"),i.qZA(),i.TgZ(13,"td",7)(14,"div",8),i.YNc(15,L,2,0,"button",9),i.YNc(16,z,2,0,"button",10),i.YNc(17,I,2,0,"button",11),i.YNc(18,Y,2,0,"button",12),i.YNc(19,H,2,0,"button",10),i.qZA()()()),2&a){const t=c.$implicit;i.xp6(2),i.Oqu(i.lcZ(3,9,t.especialidad)),i.xp6(3),i.Oqu(i.lcZ(6,11,t.especialista)),i.xp6(3),i.hij("",i.lcZ(9,13,t.diaDelTurno),"hs"),i.xp6(3),i.Oqu(i.lcZ(12,15,t.estado)),i.xp6(4),i.Q6J("ngIf","completado"==t.estado&&""!=t.resenia),i.xp6(1),i.Q6J("ngIf",""!=t.resenia),i.xp6(1),i.Q6J("ngIf","finalizado"==t.estado&&""==t.calificacionAtencion),i.xp6(1),i.Q6J("ngIf","false"==t.fueRealizado&&"aceptado"==t.estado||"pendiente"==t.estado),i.xp6(1),i.Q6J("ngIf",""!=t.comentarioCancelacion)}}let S=(()=>{class a{constructor(t,e){this.notificaciones=t,this.firebase=e,this.misTurnosPaciente=[]}cancelarTurno(t){var e=this;return(0,b.Z)(function*(){if((yield e.notificaciones.mostrarConfirmacion("Cancelar Turno","\xbfEst\xe1s seguro de cancelar el turno?")).isConfirmed){let o=yield e.notificaciones.mostrarConfirmacionConTexto("Cancelar Turno","\xbfPor qu\xe9 est\xe1 cancelando el turno?");null==o&&(o="");let n="";e.firebase.cancelarTurnoPaciente(t.especialidad,t.especialista,t.paciente,o,t.diaDelTurno).then(r=>{n=r,"Se han cancelado el turno"!=n?e.notificaciones.mostrarError("Error",n):e.notificaciones.mostrarExito("\xc9xito",n)})}})()}verResenia(t){var e=this;return(0,b.Z)(function*(){yield e.notificaciones.mostrarMensajeSwal("",t)})()}calificarTurno(t){var e=this;return(0,b.Z)(function*(){let s=yield e.notificaciones.mostrarConfirmacionConTexto("Calificar Atenci\xf3n","\xbfQu\xe9 te pareci\xf3 el servicio?");null==s&&(s="");let o="";e.firebase.agregarCalificacionServicio(t.especialidad,t.especialista,t.paciente,s,t.diaDelTurno).then(n=>{o=n,"Se ha calificado el turno"!=o?e.notificaciones.mostrarError("Error",o):e.notificaciones.mostrarExito("\xc9xito",o)})})()}static#i=this.\u0275fac=function(e){return new(e||a)(i.Y36(T.U),i.Y36(g.O))};static#t=this.\u0275cmp=i.Xpm({type:a,selectors:[["app-tabla-turnos-paciente"]],inputs:{misTurnosPaciente:"misTurnosPaciente"},decls:18,vars:1,consts:[[1,"h-80","d-flex","justify-content-center","align-items-center","text-white","rounded-3"],[1,"text-center"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-dark","align-middle"],["colspan","4"],[4,"ngFor","ngForOf"],[1,"table-dark"],["colspan","4",1,"table-dark"],[1,"d-flex","flex-column"],["appCambiarEstiloBoton","","class","btn btn-primary mb-1",4,"ngIf"],["appCambiarEstiloBoton","","class","btn btn-info mb-1",3,"click",4,"ngIf"],["appCambiarEstiloBoton","","class","btn btn-success mb-1",3,"click",4,"ngIf"],["appCambiarEstiloBoton","","class","btn btn-danger mb-1",3,"click",4,"ngIf"],["appCambiarEstiloBoton","",1,"btn","btn-primary","mb-1"],["appCambiarEstiloBoton","",1,"btn","btn-info","mb-1",3,"click"],["appCambiarEstiloBoton","",1,"btn","btn-success","mb-1",3,"click"],["appCambiarEstiloBoton","",1,"btn","btn-danger","mb-1",3,"click"]],template:function(e,s){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"td"),i._uU(7,"Especialidad"),i.qZA(),i.TgZ(8,"td"),i._uU(9,"Especialista"),i.qZA(),i.TgZ(10,"td"),i._uU(11,"Fecha y hora"),i.qZA(),i.TgZ(12,"td"),i._uU(13,"Estado del Turno"),i.qZA(),i.TgZ(14,"td",4),i._uU(15,"Acciones"),i.qZA()()(),i.TgZ(16,"tbody"),i.YNc(17,j,20,17,"tr",5),i.qZA()()()()()),2&e&&(i.xp6(17),i.Q6J("ngForOf",s.misTurnosPaciente))},dependencies:[h.sg,h.O5,C.s,O.$],styles:['@import"https://fonts.googleapis.com/css2?family=Nunito:wght@500&display=swap";@import"https://fonts.googleapis.com/css2?family=DynaPuff&family=Sora&display=swap";td[_ngcontent-%COMP%]{color:#fff;font-family:Nunito,sans-serif;font-size:small;height:auto}table[_ngcontent-%COMP%]{width:100%}.rating-container[_ngcontent-%COMP%]{text-align:center;padding:20px}']})}return a})();var Q=d(3599);function B(a,c){if(1&a){const t=i.EpF();i.TgZ(0,"button",9),i.NdJ("click",function(){i.CHM(t);const s=i.oxw().$implicit,o=i.oxw();return i.KtG(o.cancelarTurno(s))}),i._uU(1,"Cancelar Turno"),i.qZA()}}function R(a,c){if(1&a&&(i.TgZ(0,"tr")(1,"td",5),i._uU(2),i.ALo(3,"capitalizar"),i.qZA(),i.TgZ(4,"td",5),i._uU(5),i.ALo(6,"capitalizar"),i.qZA(),i.TgZ(7,"td",5),i._uU(8),i.ALo(9,"capitalizar"),i.qZA(),i.TgZ(10,"td",5),i._uU(11),i.ALo(12,"capitalizar"),i.qZA(),i.TgZ(13,"td",6)(14,"div",7),i.YNc(15,B,2,0,"button",8),i.qZA()()()),2&a){const t=c.$implicit;i.xp6(2),i.Oqu(i.lcZ(3,5,t.especialidad)),i.xp6(3),i.Oqu(i.lcZ(6,7,t.especialista)),i.xp6(3),i.hij("",i.lcZ(9,9,t.diaDelTurno),"hs"),i.xp6(3),i.Oqu(i.lcZ(12,11,t.estado)),i.xp6(4),i.Q6J("ngIf","false"==t.fueRealizado&&"rechazado"!=t.estado&&"aceptado"!=t.estado&&"finalizado"!=t.estado)}}let G=(()=>{class a{constructor(t,e){this.notificaciones=t,this.firebase=e,this.turnosDeLaClinica=[]}cancelarTurno(t){var e=this;return(0,b.Z)(function*(){if((yield e.notificaciones.mostrarConfirmacion("Cancelar Turno","\xbfEst\xe1s seguro de cancelar el turno?")).isConfirmed){let o=yield e.notificaciones.mostrarConfirmacionConTexto("Cancelar Turno","\xbfPor qu\xe9 est\xe1 cancelando el turno?");null==o&&(o="");let n="";e.firebase.cancelarTurnoPaciente(t.especialidad,t.especialista,t.paciente,o,t.diaDelTurno).then(r=>{n=r,"Se han cancelado el turno"!=n?e.notificaciones.mostrarError("Error",n):e.notificaciones.mostrarExito("\xc9xito",n)})}})()}verResenia(t){var e=this;return(0,b.Z)(function*(){yield e.notificaciones.mostrarMensajeSwal("",t)})()}calificarTurno(t){var e=this;return(0,b.Z)(function*(){let s=yield e.notificaciones.mostrarConfirmacionConTexto("Calificar Atenci\xf3n","\xbfQu\xe9 te pareci\xf3 el servicio?");null==s&&(s="");let o="";e.firebase.agregarCalificacionServicio(t.especialidad,t.especialista,t.paciente,s,t.diaDelTurno).then(n=>{o=n,"Se ha calificado el turno"!=o?e.notificaciones.mostrarError("Error",o):e.notificaciones.mostrarExito("\xc9xito",o)})})()}static#i=this.\u0275fac=function(e){return new(e||a)(i.Y36(T.U),i.Y36(g.O))};static#t=this.\u0275cmp=i.Xpm({type:a,selectors:[["app-turnos-admin"]],inputs:{turnosDeLaClinica:"turnosDeLaClinica"},decls:18,vars:1,consts:[[1,"h-80","d-flex","justify-content-center","align-items-center","text-white","rounded-3"],[1,"text-center"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-dark","align-middle"],[4,"ngFor","ngForOf"],[1,"table-dark"],["colspan","4",1,"table-dark"],[1,"d-flex","flex-column"],["appCambiarEstiloBoton","","class","btn btn-danger mb-1",3,"click",4,"ngIf"],["appCambiarEstiloBoton","",1,"btn","btn-danger","mb-1",3,"click"]],template:function(e,s){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"td"),i._uU(7,"Especialidad"),i.qZA(),i.TgZ(8,"td"),i._uU(9,"Especialista"),i.qZA(),i.TgZ(10,"td"),i._uU(11,"Fecha y hora"),i.qZA(),i.TgZ(12,"td"),i._uU(13,"Estado del Turno"),i.qZA(),i.TgZ(14,"td"),i._uU(15,"Acciones"),i.qZA()()(),i.TgZ(16,"tbody"),i.YNc(17,R,16,13,"tr",4),i.qZA()()()()()),2&e&&(i.xp6(17),i.Q6J("ngForOf",s.turnosDeLaClinica))},dependencies:[h.sg,h.O5,C.s,O.$],styles:['@import"https://fonts.googleapis.com/css2?family=Nunito:wght@500&display=swap";@import"https://fonts.googleapis.com/css2?family=DynaPuff&family=Sora&display=swap";td[_ngcontent-%COMP%]{color:#fff;font-family:Nunito,sans-serif;font-size:small;height:auto}table[_ngcontent-%COMP%]{width:100%}.rating-container[_ngcontent-%COMP%]{text-align:center;padding:20px}']})}return a})();function K(a,c){if(1&a&&i._UZ(0,"app-tabla-turnos-paciente",7),2&a){const t=i.oxw();i.Q6J("misTurnosPaciente",t.misTurnos)}}function X(a,c){if(1&a&&i._UZ(0,"app-tabla-turnos-especialista",8),2&a){const t=i.oxw();i.Q6J("misTurnosEspecialista",t.misTurnos)}}function V(a,c){if(1&a&&i._UZ(0,"app-turnos-admin",9),2&a){const t=i.oxw();i.Q6J("turnosDeLaClinica",t.misTurnos)}}let P=(()=>{class a{ngOnInit(){this.tipoUsuario=this.firebase.tipoUsuario}constructor(t){this.firebase=t,this.misTurnos=[],this.tipoUsuario="",this.flagHayCambio=!1}cargarMisTurnos(t){this.misTurnos=t}avisarCambio(t){t&&(this.flagHayCambio=!0)}static#i=this.\u0275fac=function(e){return new(e||a)(i.Y36(g.O))};static#t=this.\u0275cmp=i.Xpm({type:a,selectors:[["app-mis-turnos"]],decls:7,vars:3,consts:[[1,"row"],[1,"col-md-4"],[3,"eventItemMisTurnos"],[1,"col-md-8"],[3,"misTurnosPaciente",4,"ngIf"],[3,"misTurnosEspecialista",4,"ngIf"],[3,"turnosDeLaClinica",4,"ngIf"],[3,"misTurnosPaciente"],[3,"misTurnosEspecialista"],[3,"turnosDeLaClinica"]],template:function(e,s){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"app-filtro-unico",2),i.NdJ("eventItemMisTurnos",function(n){return s.cargarMisTurnos(n)}),i.qZA()(),i.TgZ(3,"div",3),i.YNc(4,K,1,1,"app-tabla-turnos-paciente",4),i.YNc(5,X,1,1,"app-tabla-turnos-especialista",5),i.YNc(6,V,1,1,"app-turnos-admin",6),i.qZA()()),2&e&&(i.xp6(4),i.Q6J("ngIf","paciente"==s.tipoUsuario),i.xp6(1),i.Q6J("ngIf","especialista"==s.tipoUsuario),i.xp6(1),i.Q6J("ngIf","admin"==s.tipoUsuario))},dependencies:[h.O5,J,S,Q.W,G],styles:[".row[_ngcontent-%COMP%]{max-width:100vw;width:100vw;height:93vh;background-size:100% 100%;background-image:url(fondo-solicitar-turno.720eba8beca0c2af.png);background-repeat:no-repeat;display:flex;flex-direction:row;align-items:center;justify-content:center}.col-md-8[_ngcontent-%COMP%]{height:75%;overflow-y:auto}app-tabla-turnos-paciente[_ngcontent-%COMP%], app-tabla-turnos-especialista[_ngcontent-%COMP%], app-turnos-admin[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return a})();const W=[{path:"solicitar-turno",component:F,title:"Solicitar Turno - Cl\xednica"},{path:"mis-turnos",component:P,title:"Mis Turnos - Cl\xednica"},{path:"",component:P,title:"Todos los turnos - Cl\xednica"}];let ii=(()=>{class a{static#i=this.\u0275fac=function(e){return new(e||a)};static#t=this.\u0275mod=i.oAB({type:a});static#e=this.\u0275inj=i.cJS({imports:[v.Bz.forChild(W),v.Bz]})}return a})(),ti=(()=>{class a{static#i=this.\u0275fac=function(e){return new(e||a)};static#t=this.\u0275mod=i.oAB({type:a});static#e=this.\u0275inj=i.cJS({imports:[h.ez,ii]})}return a})()}}]);